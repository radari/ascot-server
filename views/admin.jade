-#
-# admin.jade
-#
-# Created on: 2/10, 2013
-#     Author: Matt Green
-#
-# Admin interface view
-#  
extends layout

prepend head
  script(src='/javascripts/admin_panel.js')
  script(src="/common/LookImageSizer.js")

  script(src='/javascripts/controllers/LooksListController.js')
  script(src='/javascripts/controllers/AdminController.js')

  link(rel='stylesheet', href='/stylesheets/admin_panel.css')

block content
  div.list_header 
    | #{listTitle}

  div.all_looks_wrapper(style="text-align: center",
                        ng-controller="LooksListController",
                        ng-init="init(#{JSON.stringify(looks)}, #{numPages}, #{page}, 4)",
                        ng-when-scrolled="loadNextPage();")
    div.all_looks_element(ng-repeat="column in columns")
      div(ng-repeat="look in column",
          ng-controller="AdminController",  
          ng-init="lookId=look._id ; isPublished=conditional(look.showOnCrossList, 'published','unpublished')",
          ng-click="togglePublished()",
          ng-class="isPublished")
      
        img(ng-src="{{look.url}}",
            ng-style="{ height : computeHeight(look, 228) }")
    div.clear
    div.list_header(ng-show="looks.length == 0")
      | No looks found


